<div class="pdf-viewer-container" 
     [class.fullscreen]="isExpanded()" 
     [class.expanding]="isAnimating() && isExpanded()"
     [class.collapsing]="isAnimating() && !isExpanded()">
  
  <!-- Button container for non-fullscreen mode -->
  <div class="button-container" *ngIf="!isExpanded()">
    <button class="download-button" (click)="downloadResume()">⬇️ Download</button>
    <button class="expand-button" (click)="toggleExpanded()">📄 View Resume</button>
  </div>
  
  <!-- Single PDF viewer that changes appearance based on state -->
  <div class="pdf-viewer-wrapper" [class.mini-mode]="!isExpanded()" [class.fullscreen-mode]="isExpanded()">
    <div class="pdf-container" (click)="!isExpanded() ? toggleExpanded() : null">
      <!-- Close button for fullscreen -->
      <button class="close-button" *ngIf="isExpanded()" (click)="toggleExpanded(); $event.stopPropagation()">✕</button>
      
      <!-- Background overlay for fullscreen -->
      <div class="fullscreen-backdrop" *ngIf="isExpanded()" (click)="toggleExpanded()"></div>
      
      <!-- Single PDF viewer instance -->
      <ngx-extended-pdf-viewer 
        src="assets/Christopher_Barreras_Resume.pdf"
        [height]="isExpanded() ? '100vh' : '100%'"
        [showToolbar]="false"
        [showSidebarButton]="false"
        [showFindButton]="false"
        [showPrintButton]="false"
        [showDownloadButton]="false"
        [showPresentationModeButton]="false"
        [showOpenFileButton]="false"
        [showPagingButtons]="false"
        [showZoomButtons]="false"
        [showRotateButton]="false"
        [showHandToolButton]="false"
        [showSpreadButton]="false"
        [showPropertiesButton]="false"
        [showSecondaryToolbarButton]="false"
        [zoom]="isExpanded() ? 'page-height' : 'page-width'"
        [minZoom]="0.5"
        [maxZoom]="3"
        class="pdf-viewer">
      </ngx-extended-pdf-viewer>
    </div>
  </div>
</div>
